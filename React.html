<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Experiments with the React Framework / Kevin Price</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">

        <link rel="shortcut icon" href="./theme/favicon.ico" />
        <link rel="apple-touch-icon" href="./theme/apple-touch-icon-iphone.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="./theme/apple-touch-icon-ipad.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="./theme/apple-touch-icon-iphone4.png" />
        <link rel="apple-touch-icon" sizes="144x144" href="./theme/apple-touch-icon-ipad3.png" />

        <link rel="stylesheet" href="./theme/css/bootstrap.min.css">
        <link rel="stylesheet" href="./theme/css/bootstrap-responsive.min.css">
        <link rel="stylesheet" href="./theme/css/font-awesome.min.css">
        <link rel="stylesheet" href="./theme/css/colorbox.css">

        <link rel="stylesheet" href="./theme/css/main.css">

        <script src="./theme/js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
    </head>
    <body>

        <div class="container">
            <div class="row">
                <div class="span9">
                    <div class="row">
                        <div class="span2"> <!-- logo -->
                            <div id="logo">
                                <a href=".">
                                    <img alt="Kevin Price" src=".//images/me.jpg" />
                                </a>
                            </div> <!-- logo -->
                        </div> <!-- logo span -->
						
                        <div class="span7"> <!-- header -->
                            <!--[if lt IE 9]>
                                <p class="chromeframe alert alert-warning">You are using an <strong>outdated</strong> browser, and this site might not look best in it. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
                            <![endif]-->
                            <header id="site-header">
                                <div id="site-header-content">
                                    <h1>
                                        <a href=".">Kevin Price</a>
                                        <small>
                                            <span class="divider">/</span> 
                                        </small>
                                    </h1>
                                    <p>
                                        I am a data science intern and computer programmer. Here are some of my projects and ideas.
                                    </p>
                                </div>
                            </header>
                        </div> <!-- header span -->
                    </div> <!-- header row -->

                    <div class="row"> <!-- content -->
                        <div class="content">
<div class="article-page">
    <div class="span7 offset2">
        <header class="article">
            <h2><a href="./React.html" rel="bookmark">Experiments with the React Framework</a></h2>
			<div style="display:inline-block; margin-top: 3px; font-family: Baskerville, Garamond, Palatino;">— Web Design —&nbsp;&nbsp;</div>
            <time datetime="2017-08-31T00:00:00-04:00">
                Aug 31, 2017
            </time>
        </header>
    </div>

    <div class="span2">
    <div class="article-meta article-meta-border">
        <dl class="dl-horizontal">
            <dt><i class="icon-file"></i></dt>
            <dd>
                <a href="./category/web-design.html">
                    Web Design
                </a>
            </dd>

            <dt><i class="icon-tags"></i></dt>
            <dd>
                    <a href="./tag/computer-modeling.html">Computer Modeling</a>
<span class="separator">/</span>                    <a href="./tag/react.html">React</a>
<span class="separator">/</span>                    <a href="./tag/javascript.html">JavaScript</a>
            </dd>
        </dl>

        <b class="border-notch notch"></b>
        <b class="notch"></b>
    </div>
    </div>

    <div class="span7">
        <section>
            <article class="entry">
    <!-- Summary:  -->

<p>I decided to create a React web app to demonstrate the Coriolis effect. I had previously written an <a href="./Coriolis.html">article about the Coriolis effect</a>; I rewrote the computer model I had created for this page. This <a href="./CoriolisReact/index.html">new React model</a> is much cleaner and more powerful.</p>
<p>I am very pleased with the result. As you can see, the Coriolis effect has provided me ample material for creativity. The following article describes some of the steps I took to generate this model.</p>


<h3>Coding goals</h3>
<p>The Coriolis effect is an object of fascination of mine. As I stated in my article, the Coriolis effect is an artifact of rotating environments (artificial gravity) that causes objects to move in unexpected directions. With my physics experience, I had the knowledge and equations I needed to build this model.</p>
<p>My goal was to take this complicated physics principle and simplify it so that anyone can understand it. I wanted the model to be powerful enough to be able to render whatever throw a user wishes to model. With this objective, I hoped to make the effects of artificial gravity perfectly clear. Furthermore, I wanted the page to be compelling, clean, beautiful, fast, resizable, and not glitchy.</p>
<h3>Steps to produce the model</h3>
<p>This model came about in several stages. Though this came from a simple idea, the final result is much more sophisticated and powerful than what I had initially planned.</p>
<ol>
<li>
<p>The first stage of this model was to calculate the landing position of the coin. The model should <em>compute</em> these coordinates for the viewer. Essentially, I needed to find the correct intersection between a line and a circle. The direction of this line is based on physics kinematics equations.</p>
</li>
<li>
<p>With the landing coordinates, I could calculate the distance the coin would land away from the person; this is the measurable result of the Coriolis effect. I used this math in Python to generate a graph that shows the relationship between the diameter of the station and the "weirdness" of the throw produced by the Coriolis effect.</p>
</li>
<li>
<p>I wanted to demonstrate what any throw would <em>look</em> like. Using the line of the coin's movement, I generated a time series of points, allowing me to plot these points on an HTML canvas element.</p>
</li>
<li>
<p>These points needed to be in the <em>thrower's</em> reference frame, not the frame of the outside universe. This is the only way the Coriolis effect would be clearly demonstrated. This required me to translate my series of points into a new set of points that are <em>relative</em> to the thrower. This required writing out more equations and solving a bit of trigonometry.</p>
</li>
<li>
<p>I wrote <a href="./Coriolis.html">an article</a> about the Coriolis effect. I wanted this article to be complete, informative, and entertaining.</p>
</li>
<li>
<p>Next, I wanted to improve the model's UI to make it clean and professional. I rewrote the model to utilize the React framework. I added intuitive logarithmic sliders (that include the number zero!) so that it would be easy to change the throw's parameters.</p>
</li>
<li>
<p>Finally, I continued debugging the code so that it would be less glitchy and could show all possible use cases.</p>
</li>
</ol>
<h3>Some things I encountered while coding</h3>
<h5>Insufficient Decimal Places</h5>
<p>I discovered that the standard decimal variable in Python and JavaScript is not accurate enough to calculate the results that I desired. Fifteen decimal places produces glitchy results with large "space stations." Thus, I translated all of my math to work with the Decimal.js JavaScript library and the Python Decimal package. Then, I increased the number of decimal places so I could model larger space stations.</p>
<p>Here is my glitchy graph with the standard number of decimal places. You may note that the graph never actually achieves the values expected with stations that are larger than 1*10^7 meters:</p>
<p><img style="margin: 5px 0px 5px 0px;" src="CoriolisFiles/CoriolisGraphGlitchy.png" width="525" height="525"/></p>
<p>With additional decimal places:</p>
<p><img style="margin: 5px 0px 5px 0px;" src="CoriolisFiles/CoriolisGraph.png" width="525" height="525"/></p>
<p>The Python code I used to generate these graphs can be found <a href="./CoriolisFiles/CoriolisTable.py">here</a>.</p>
<p>In JavaScript, the current version of the Decimal.js package does not work with webpack. Thus, in order to use the model with React, I needed to downgrade the package. This issue is discussed <a href="https://github.com/MikeMcl/decimal.js/issues/49">here</a>.</p>
<h5>A Resizeable React canvas</h5>
<p>I wanted the model to be compatible with any screen size presented to it. Thus, I wanted to create an HTML canvas element that both fills the screen width and resizes. The canvas must receive its with from the properties, not from CSS. </p>
<p><a href="https://www.npmjs.com/package/react-container-dimensions">This React plugin</a> initially looked like it would do the job, but it proved useless. Canvas elements must be connected to React refs in order to obtain the drawing context from ReactDOM. This is not possible with functional components, which the react-container-dimensions plugin uses.</p>
<p>I ultimately created an event listener in the Canvas component which triggers a state change when the window is resized. The Canvas then inherits its width and height attributes from the component's state.</p>
<h5>Logarithmic Sliders</h5>
<p>I wanted to produce logarithmic sliders for the model's input. This way, it would be intuitive what ranges are acceptable. I found the logic I needed at <a href="https://codepen.io/willat600series/pen/ojzYJx">this site</a>.</p>
<p>These logarithmic ranges needed to <em>include</em> zero; the log of zero does not compute. I added a small offset so that the log calculated is never actually zero.</p>

    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'priceisright204'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
		(function() { // DON'T EDIT BELOW THIS LINE
			var d = document, s = d.createElement('script');
			s.src = '//' + disqus_shortname + '.disqus.com/embed.js';
			s.setAttribute('data-timestamp', +new Date());
			(d.head || d.body).appendChild(s);
		})();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            </article>
        </section>
    </div> <!-- span -->
</div>                        </div>
                    </div> <!-- content row -->

                    <div class="row"> <!-- footer -->
                        <div class="span7 offset2">
                            <footer id="site-footer">
                                <p>
                                    <a href="" target="_blank">
                                        
                                    </a> Kevin Price /
                                    <a href="./">Archives</a>
                                </p>
                                <p>
                                    Powered by
                                    <a href="https://github.com/getpelican/pelican" target="_blank">
                                        Pelican
                                    </a>
                                    /
                                    My code on
                                    <a href="http://github.com/Priceisright204" target="blank">
                                        GitHub
                                    </a>
                                    /
                                    Modified <code>Lannisport</code> theme
                                </p>
                            </footer>
                        </div> <!-- footer span -->
                    </div> <!-- footer row -->
                </div> <!-- header+content+footer span -->

                <div class="span3">
                    <aside class="affix">
                        <div id="sidebar">
                            <div id="social-icons">
                                    <span class="social-icon">
                                        <a href="https://github.com/priceisright204" target="_blank" title="GitHub">
                                            <i class="icon-github-alt"></i>
                                        </a>
                                    </span>
                                    <span class="social-icon">
                                        <a href="https://www.linkedin.com/in/kevin-price-371a9a6b" target="_blank" title="LinkedIn">
                                            <i class="icon-linkedin"></i>
                                        </a>
                                    </span>
                                    <span class="social-icon">
                                        <a href="http://facebook.com/kevin.price.204" target="_blank" title="Facebook">
                                            <i class="icon-facebook"></i>
                                        </a>
                                    </span>
                            </div>

                            <div id="navigation">
<nav>
	<h2>Pages</h2>
	<ul>
		<li>
			<ul>
				<li>
					<a href=".">Site Home</a>
				</li>

					</br><li><a href="./CoriolisReact/index.html" target="_blank">Coriolis Computer Model<br/><sub style="top:-4px">(React)</sub></a></li>
					</br><li><a href="./maze/maze.html#&tutorial=true" target="_blank">Maze<br/><sub style="top:-4px">(Vanilla JavaScript)</sub></a></li>

			</ul>
		</li>
	</ul>
</nav>

<nav>
	<h2>Categories</h2>
	<ul>
		<li>
			<ul>
					</br><li>
						<a href="./category/about-this-site.html">About this site</a>
					</li>
					</br><li>
						<a href="./category/computer-modeling.html">Computer Modeling</a>
					</li>
					</br><li>
						<a href="./category/games.html">Games</a>
					</li>
					</br><li>
						<a href="./category/machine-learning.html">Machine Learning</a>
					</li>
					</br><li>
						<a href="./category/web-design.html">Web Design</a>
					</li>
			</ul>
		</li>
	</ul>
</nav>                            </div>
                        </div> <!-- sidebar -->

                        <p id="back-to-top">
                            <a href="#">
                                <i class="icon-double-angle-up"></i> Back to top
                            </a>
                        </p>

                    </aside>
                </div> <!-- logo+navigation span -->
            </div> <!-- row -->

        </div> <!-- /container -->

        <script src="//ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="./theme/js/vendor/jquery-3.2.1.min.js"><\/script>')</script>

        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.0/js/bootstrap.min.js"></script>
        <script>$('body').popover || document.write('<script src="./theme/js/vendor/bootstrap.min.js"><\/script>')</script>

        <script src="./theme/js/jquery.captions.js"></script>
        <script src="./theme/js/vendor/jquery.colorbox-min.js"></script>

        <script src="./theme/js/main.js"></script>

        <script>
            var _gaq=[['_setAccount','UA-104695649-1'],['_trackPageview'],['_trackPageLoadTime'],['_gat._anonymizeIp']];
            (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
            g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
            s.parentNode.insertBefore(g,s)}(document,'script'));
        </script>
    </body>
</html>