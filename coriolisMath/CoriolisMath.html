<!DOCTYPE html>
</html>
<head>
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.jsconfig=TeX-MML-AM_CHTML">
</script>
</head>
<style>
	.center { text-align:center; }
	
	.floatleft, .floatright, .center img, .floatleft img, .floatright img {
	border-radius:7px;
	}

	.floatleft {  float: left;  margin-right:10px; }
	.floatright {  float: right;  margin-left:10px; }

</style>

<body>

<section>
<article class="entry">
<h3>The math behind this model</h3>

<p>The math in Coriolis model is thorny and involved, yet it still follows the rules of basic physics and kinematics. So we have a physics problem to solve! We want to find where a coin toss would land on a virtual space station. This is the most important part of the model's math.</p>
<h5>Set-up the coordinate system</h5>
<p>To fully understand what happens during our coin toss, we must use a perspective that is not rotating. The Coriolis effect is not a real force, but is simply described by the difference between rotation and real gravity.</p>
<p>In physics, we must set our coordinate system before we solve our math problem. The station is a virtual coordinate system with (0,0) at its exact center. I assumed that the station is rotating clockwise. The math might have been slightly simpler if I had chosen counterclockwise instead, but this is how I imagined it. For our convenience, the moment of the throw takes place at the instant the person is standing at the bottom of the curve. The person throws the coin with the force that would have been needed to get it 3 feet up in the air on Earth.</p>
<div class="center"><img src="./article/CoordinateSystem.png" width="300" height="300"/></div>

<p>While we are still holding the coin, we (and the coin) have a leftwards velocity due to the clockwise rotation. The centripetal force is pushing us upwards, directly towards the middle of the station.</p>
<p>At the moment the coin is released, it will no longer have any forces acting on it. The coin is no longer touching the station. It will continue to have the same leftwards horizontal velocity, but it will now have a vertical velocity component defined by how hard you would have thrown it on earth.</p>
<div class="center"><img src="./article/BeforeThrow.png" width="200" height="200"/><img src="./article/AfterThrow.png" width="200" height="200"/></div>

<p>Now that I have set up the physics, I will explain the order of operations for our quest. In my advanced physics classes, the professors emphasized creating an equation that can solve your problem for you. This problem is far too complex to be placed into one equation; thus, we will solve it in steps, and the computer will give us the answer.</p>
<p>We want to find how far away a coin would unexpectedly land from the thrower's feet. To find this, we need to find out the coordinates of where both the thrower and the coin would end up. First, we need the velocity of the coin when it launches. Using this, we can solve for its landing coordinate and the time it elapsed in the air. We can then use the time elapsed in the air to find where the thrower would end up in an equivalent time period. We can use this to find the separation between the coin and the thrower's feet.</p>
<p>To review, here are the steps to solving our math problem:</p>
<ol type="1">
    <li>Solve for the coin's starting velocity
        <ul><li>Both horizontal and vertical components</li></ul>
    </li>
    <li>Find the coin's landing coordinates</li>
    <li>Get the time elapsed</li>
    <li>Calculate the arc swept by the thrower
        <ul><li>Use this to get the final coordinates</li></ul>
    </li>
    <li>Use the coordinates to calculate the distance between the coin and the thrower's feet</li>
</ol>

<p><br/></p>
<h5>Starting Velocity</h5>
<h6>Vertical Component</h6>
<p>The throw velocity is based on how hard the coin <em>would</em> have been thrown on Earth. This is basic kinematics, and once again, this part of the problem takes place on Earth.</p>
<p><img class="floatright" src="./article/BasicKinematics.png" width="150"/></p>
<p>Physics tells us, that at the top of an arc of motion on Earth, the velocity will equal zero as the object changes direction. The coin will land directly under where it was thrown.</p>
<p>This is the relevant kinematics fomula:</p>
<div class="math">$$v_f^2=v_0^2+2ax$$</div>
<p>Variables:</p>
<ul>
<li><span class="math">\(v_f\)</span> is the final velocity</li>
<li><span class="math">\(v_0\)</span> is the initial velocty</li>
<li><span class="math">\(a\)</span> is the acceleration</li>
<li><span class="math">\(x\)</span> is the distance traveled upwards</li>
</ul>
<p>In our formula:</p>
<ul>
<li><span class="math">\(v_0\)</span> is the initial velocity, the variable we want</li>
<li><span class="math">\(v_f=0\)</span> (the top of our throwing arc)</li>
<li><span class="math">\(x\)</span> is the height of our throw (3 feet up)</li>
<li><span class="math">\(a=-g_e=-32.174\)</span> ft/s/s, the gravity on earth.</li>
</ul>
<p><br/></p>
<p>By solving, we get:</p>
<p><br/></p>
<div class="math">$$0=v_0^2-2gx$$</div>
<div class="math">$$v_{0y}=\sqrt {2g_ex}$$</div>
<p>This is the vertical component of the coin's starting velocity.</p>
<h6>Horizontal Component</h6>
<p>Before we solve for the coin's initial horizontal velocity, please note that the coin does not feel the same force of gravity as you do on the floor of the station. It has a smaller radius to the center of the station because you are holding it in your hand. Thus, the coin's horizontal velocity would not be <em>quite</em> the same as if it were touching the floor.</p>
<p>The floor's "gravity" is a constant acceleration toward the center. This is the equation for rotational acceleraton:</p>
<div class="math">$$a=\frac{v_t^2}{r}=\omega^2r$$</div>
<p>Variables:</p>
<ul>
<li><span class="math">\(v_t\)</span> is the horizontal velocity of an object on the station</li>
<li>r is the radius where the object is located</li>
<li>a is the acceleration felt by the object</li>
<li><span class="math">\(\omega\)</span> is the rotational rate of the station in radians/second.</li>
</ul>
<p><span class="math">\(\omega\)</span> would be the same at the floor and at the coin. We can calculate <span class="math">\(\omega\)</span> using values at the floor (1g acceleration), and then use <span class="math">\(\omega\)</span> to find the horizontal velocity of the coin.</p>
<div class="math">$$\omega=\sqrt {\frac {a}{r}}$$</div>
<p>In our formula:</p>
<ul>
<li><span class="math">\(a=-32.174\)</span> ft/s/s, the acceleration at the floor</li>
<li><span class="math">\(r\)</span> is the radius of the station.</li>
</ul>
<p>We can then use <span class="math">\(\omega\)</span> to calculate the horizontal velocity of the coin. Using the formula at the top, we get:</p>
<div class="math">$$v_x = -v_t=-\omega*r_{coin}$$</div>
<div class="math">$$r_{coin}=r_{station}-h_{coin}$$</div>
<p>The model's starting height is how far above the floor the coin is tossed from. The coin's radius would be the total radius minus the coin's starting height. </p>
<p>The velocity is set to be negative, because the coin is going left in our coordinate plane. Left is a negative direction.</p>
<p>Thus, our final formula:</p>
<div class="math">$$v_x = -\sqrt {\frac{a}{r_{station}}}*(r_{station}-h_{coin})$$</div>
<p>Our variables:</p>
<ul>
<li>a = the acceleration of the station, -32.174 ft/s/s</li>
<li><span class="math">\(r_{station}\)</span>=the radius of the station</li>
<li><span class="math">\(h_{person}\)</span>=the height of the person</li>
</ul>
<p><br/></p>
<h5>The Coin's Landing Coordinates</h5>
<p>We can use the velocity components of the coin to find its landing coordinates. The coin is traveling up and to the left in a straight line; the slope of the path it follows is the fraction of the two velocity components, <span class="math">\(\frac{v_y}{v_x}\)</span>.</p>
<p>The equation for a line: <span class="math">\(y = mx + b\)</span></p>
<p>Our variables:</p>
<ul>
<li><span class="math">\(m=\frac {rise}{run}=\frac{v_y}{v_x}\)</span>, it will be <em>negative</em>.</li>
<li><span class="math">\(b=\)</span>&nbsp;the y-intercept&nbsp;<span class="math">\(=-(r_{station}-h_{coin})\)</span></li>
</ul>
<p>My computer tells me that <span class="math">\(v_x=-23.82329\)</span> ft/s, and <span class="math">\(v_y=13.80403\)</span> ft/s. This is the formula for the path of the coin:</p>
<div class="math">$$y=-.579434x-21$$</div>
<p>Now, we need to find where this line intersects with a circle. Here is the formula for a circle:</p>
<div class="math">$$x^2 + y^2 = r^2$$</div>
<p>We can cheat and solve this using an <a href="https://www.desmos.com/calculator">online graphing website</a>:</p>
<div class="center"><img src="./article/IntersectPoint.png" width="250" height="250"/></div>

<p>In this image, you can see the path of the coin and its final intersection with the ground, up and to the left. The coin starts at the y-intercept.</p>
<p>Now, we will solve this by hand. For our computer model, we need formulas that the computer can solve! </p>
<div class="math">$$x^2 + y^2 = r_{station}^2$$</div>
<div class="math">$$y=mx-r_{coin}$$</div>
<div class="math">$$x^2 + (mx-r_{coin})^2 = r_{station}^2$$</div>
<p>Rearrange and simplify to a quadratic equation (format <span class="math">\(0=ax^2+bx+c\)</span>):
</p>
<div class="math">$$0=(1+m^2)x^2-2mr_{coin}x+(r_{coin}^2-r_{station}^2)$$</div>
<p>The quadratic formula:</p>
<div class="math">$$x=\frac {-b\pm\sqrt {b^2-4ac}}{2a}$$</div>
<p>Plug in our variables and simplify (I skipped a few steps for brevity):</p>
<div class="math">$$x=\frac{mr_{coin}\pm\sqrt{m^2r_{coin}^2-(1+m^2)(r_{coin}^2-r_{station}^2)}}{1+m^2}$$</div>
<p>This is our formula for the x-coordinate of the coin. The correct value will be the answer that is negative, because the coin goes to the <em>left</em>. The equation correctly gives us -23.967 when we solve with the (-) operator.</p>
<p>Now we need to solve for the y-component that matches this x-component:</p>
<div class="math">$$x^2 + y^2= r_{station}^2$$</div>
<div class="math">$$y=\sqrt {r_{station}^2-x^2}$$</div>
<p>This gives us 7.113. There is one problem: solving this way only gives us the <em>absolute value</em> of the y-component!</p>
<p>To get the correct sign of the y-component, we need to use the quadratic formula <em>again</em>.</p>
<div class="math">$$y=mx-r_{coin}$$</div>
<div class="math">$$x=\frac{y+r_{coin}}{m}$$</div>
<div class="math">$$\left(\frac {y+r_{coin}}{m}\right)^2 + y^2= r_{station}^2$$</div>
<p>Rearrange and simplify to a quadratic equation:</p>
<div class="math">$$0=y^2(1+m^2)+2r_{coin}y+(r_{coin}^2-r_{station}^2m^2)$$</div>
<p>Put into the quadratic formula and simplify:</p>
<div class="math">$$y=\frac{-r_{coin}\pm\sqrt{r_{coin}^2-(1+m^2)(r_{coin}^2-r_{station}^2m^2)}}{1+m^2}$$</div>
<p>We already know the absolute value of the y-component. The quadratic formula tells us that this number should be negative, -7.113. We arrived at this number using the (+) operator.</p>
<p>Our final coordinates are (-23.967, -7.113). This matches the values from the graphing website. </p>
<p>The correct operators in the quadratic formula were (-) when solving for x, and (+) when solving for y. This is fairly intuitive, because the coin moves up and to the left (negative x direction, positive y direction).</p>
<p>These operators differ if the coin moves in a direction other than up and to the left (e.g. if it is thrown in a direction other than straight up). Fortunately, the operators are intuitive based on which direction the coin moves.</p>
<p>Thus, our final formulas are:</p>
<div class="math">$$x=\frac{mr_{coin}-\sqrt{m^2r_{coin}^2-(1+m^2)(r_{coin}^2-r_{station}^2)}}{1+m^2}$$</div>
<div class="math">$$y=\frac{-r_{coin}+\sqrt{r_{coin}^2-(1+m^2)(r_{coin}^2-r_{station}^2m^2)}}{1+m^2}$$</div>
<p>Our variables:</p>
<ul>
<li><span class="math">\(m=\frac {v_y}{v_x}\)</span>. <span class="math">\(v_x\)</span> is negative because the coin is moving left.</li>
<li><span class="math">\(r_{coin}\)</span> is the radius at the coin.</li>
<li><span class="math">\(r_{station}\)</span> is the radius of the station.</li>
</ul>
<p><br/><br/></p>
<h5>Time Elapsed in the Air</h5>
<p>Now that we have the landing coordinates, we can solve for the exact time elapsed using kinematics equations. First, we need the distance traveled. We will calculate this using the Pythagorean Theorem. The final coordinates of the coin are (x_f, y_f), and the initial coordinates are (0,<span class="math">\(-r_{coin}\)</span>).</p>
<p>Pythagorean theorem: <span class="math">\(d=\sqrt{(x_2-x_1)^2 + (y_2-y_1)^2}\)</span>.</p>
<p>Using our variables: <span class="math">\(d=\sqrt{x_f^2+(y_f+r_{coin})^2}\)</span></p>
<p>We also need to solve for the velocity. We have the x and y components. The velocity, with the Pythagorean theorem, is <span class="math">\(v=\sqrt {v_x^2 + v_y^2}\)</span>.</p>
<p>We know from basic kinematics that <span class="math">\(d=vt\)</span> for objects that are not accelerating. We can rearrange this and plug in our values. We get:</p>
<div class="math">$$t=\frac {\sqrt{x_f^2+(y_f+r_{coin})^2}}{\sqrt {v_x^2 + v_y^2}}$$</div>
<p>Our variables:</p>
<ul>
<li><span class="math">\(x_f\)</span> = the final x-coordinate of the coin</li>
<li><span class="math">\(y_f\)</span> = the final y-coordinate of the coin</li>
<li><span class="math">\(v_x\)</span> = the velocity x-component</li>
<li><span class="math">\(v_y\)</span> = the velocity y-component</li>
<li><span class="math">\(r_{coin}\)</span> = the radius at the coin, before it is launched</li>
</ul>
<p><br/></p>
<h5>The Arc Swept By the Person</h5>
<p>We can use the time variable to calculate the angle a person will cover while the coin is in the air. This will give us the final coordinates of the person.</p>
<p>We have already calculated the station's rotation rate in the beginning of our problem. This is <span class="math">\(\omega\)</span>, in radians/second.</p>
<p>The person starts at an angle of <span class="math">\(\frac{3\pi}{2}\)</span> (270 degrees). The person is sweeping a negative arc, because they are traveling clockwise (counterclockwise is positive for angles).</p>
<p>If <span class="math">\(\theta_t\)</span> is the total arc swept by the person, then you would expect <span class="math">\(\theta_t=\theta_f-\theta_0\)</span>. However, you must keep in mind the negative direction of the arc being traveled. We can switch the sign by flipping the terms of the equation. Thus, our formula is <span class="math">\(\theta_t=\theta_0-\theta_f\)</span>, where <span class="math">\(\theta_0=\frac{3\pi}{2}\)</span>. Now rearrange the terms:
</p>
<div class="math">$$\theta_f = \theta_0 - \theta_t$$</div>
<p>With rotational kinematics, we can calculate the arc swept by the person: 
</p>
<div class="math">$$\theta_t = \omega t$$</div>
<p>Put the equations together:</p>
<div class="math">$$\theta_f = \theta_0 - \omega t$$</div>
<p>We have just calculated the person's final angle in the station. Now, we have a set of polar coordinates: we have the final angle and the radius. We can convert these polar coordinates to cartesian coordinates using the equations:</p>
<div class="math">$$x=r*cos(\theta)$$</div>
<div class="math">$$y=r*sin(\theta)$$</div>
<p>Our final x and y coordinates:</p>
<div class="math">$$x=r*cos(\frac{3\pi}{2} - \omega t)$$</div>
<div class="math">$$y=r*sin(\frac{3\pi}{2} - \omega t)$$</div>
<p>Our variables:</p>
<ul>
<li>r = the radius of the station</li>
<li><span class="math">\(\omega\)</span> = the rotational rate of the station (calculated when we found the horizontal velocity)</li>
<li>t = the time elapsed while the coin is in the air</li>
</ul>
<p><br/></p>
<h5>The Final Answer</h5>
<p>Now that we have the landing coordinates of the coin, and the person's final coordinates, we can calculate the straight line distance between the two using the Pythagorean theorem. This formula gives us our answer:</p>
<div class="math">$$d = \sqrt{(x_{coin}-x_{person})^2 + (y_{coin}-y_{person})^2}$$</div>
<p>Javascript calculates to a precision of about 15 decimal points. This is insufficient for some calculations; thus my code uses the Decimal.js package to support 30 decimal places instead. The model breaks up the path of the coin into 100 pieces and moves real-time between them to make a realistic arc on the screen.</p>
<p><br/></p>
<h5>Max Height Achieved</h5>
<p>My table also displays the max height achieved by the coin. Unfortunately, there is no formula to calculate this. I generated this number by creating a maximization script; the script sweeps up and down the path of the coin to find the point that is at the farthest distance from the circle.</p>
</article>
</section>

<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.rawgit.com/mathjax/MathJax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
</body>